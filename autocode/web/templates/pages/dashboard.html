{% extends "base.html" %}
{% from 'components/stat_card.html' import stat_card %}
{% from 'components/check_card.html' import check_card %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<!-- Overview Cards -->
<section class="overview">
    <div class="card">
        <h2>ğŸ“Š System Status</h2>
        <div class="status-grid">
            {{ stat_card({'label': 'Uptime', 'id': 'uptime'}) }}
            {{ stat_card({'label': 'Total Checks', 'id': 'total-checks'}) }}
            {{ stat_card({'label': 'Last Check', 'id': 'last-check'}) }}
        </div>
    </div>
</section>

<!-- Checks Section -->
<section class="checks">
    <h2>ğŸ” Active Checks</h2>
    
    <!-- Documentation Check -->
    {{ check_card('doc', {'title': 'ğŸ“š Documentation Check'}) }}
    
    <!-- Test Check -->
    {{ check_card('test', {'title': 'ğŸ§ª Test Check'}) }}
    
    <!-- Git Check -->
    {{ check_card('git', {'title': 'ğŸ”„ Git Analysis'}) }}
</section>

<!-- Configuration Section -->
<section class="config">
    <h2>âš™ï¸ Configuration</h2>
    <div class="config-card">
        <div class="config-group">
            <h4>ğŸ“š Documentation Check</h4>
            <div class="config-item">
                <label>
                    <input type="checkbox" id="doc-check-enabled" onchange="updateConfig()">
                    Enabled
                </label>
            </div>
            <div class="config-item">
                <label>
                    Interval (minutes):
                    <input type="number" id="doc-check-interval" min="1" max="1440" value="10" onchange="updateConfig()">
                </label>
            </div>
        </div>
        
        <div class="config-group">
            <h4>ğŸ”„ Git Analysis</h4>
            <div class="config-item">
                <label>
                    <input type="checkbox" id="git-check-enabled" onchange="updateConfig()">
                    Enabled
                </label>
            </div>
            <div class="config-item">
                <label>
                    Interval (minutes):
                    <input type="number" id="git-check-interval" min="1" max="1440" value="5" onchange="updateConfig()">
                </label>
            </div>
        </div>
        
        <div class="config-group">
            <h4>ğŸ§ª Test Check</h4>
            <div class="config-item">
                <label>
                    <input type="checkbox" id="test-check-enabled" onchange="updateConfig()">
                    Enabled
                </label>
            </div>
            <div class="config-item">
                <label>
                    Interval (minutes):
                    <input type="number" id="test-check-interval" min="1" max="1440" value="5" onchange="updateConfig()">
                </label>
            </div>
        </div>
        
        <div class="config-group">
            <h4>ğŸ”¢ Token Alerts</h4>
            <div class="config-item">
                <label>
                    <input type="checkbox" id="token-alerts-enabled" onchange="updateConfig()">
                    Enabled
                </label>
            </div>
            <div class="config-item">
                <label>
                    Token Threshold:
                    <input type="number" id="token-threshold" min="1000" max="200000" value="50000" onchange="updateConfig()">
                </label>
            </div>
            <div class="config-item">
                <label>
                    Model:
                    <select id="token-model" onchange="updateConfig()">
                        <option value="gpt-4">GPT-4</option>
                        <option value="gpt-3.5-turbo">GPT-3.5-turbo</option>
                        <option value="claude-3-opus">Claude-3-opus</option>
                    </select>
                </label>
            </div>
        </div>
    </div>
</section>
{% endblock %}
