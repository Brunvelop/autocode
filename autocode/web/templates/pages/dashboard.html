{% extends "base.html" %}
{% from 'components/stat_card.html' import stat_card %}
{% from 'components/check_card.html' import check_card %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<!-- Overview Cards -->
<section class="mb-8">
    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-5 transition-all hover:shadow-md">
        <h2 class="mb-4 text-gray-800 text-xl font-semibold">ğŸ“Š System Status</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            {{ stat_card({'label': 'Uptime', 'id': 'uptime'}) }}
            {{ stat_card({'label': 'Total Checks', 'id': 'total-checks'}) }}
            {{ stat_card({'label': 'Last Check', 'id': 'last-check'}) }}
        </div>
    </div>
</section>

<!-- Checks Section -->
<section class="mb-8">
    <h2 class="mb-6 text-gray-800 text-2xl font-bold">ğŸ” Active Checks</h2>
    
    <!-- Documentation Check -->
    {{ check_card('doc', {'title': 'ğŸ“š Documentation Check'}) }}
    
    <!-- Test Check -->
    {{ check_card('test', {'title': 'ğŸ§ª Test Check'}) }}
    
    <!-- Git Check -->
    {{ check_card('git', {'title': 'ğŸ”„ Git Analysis'}) }}
</section>

<!-- Configuration Section -->
<section class="mb-8">
    <h2 class="mb-6 text-gray-800 text-2xl font-bold">âš™ï¸ Configuration</h2>
    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 grid grid-cols-1 md:grid-cols-2 gap-8">
        
        <div class="flex flex-col gap-3">
            <h4 class="text-gray-800 mb-2 text-lg font-semibold pb-2 border-b-2 border-gray-200">ğŸ“š Documentation Check</h4>
            <div class="flex items-center">
                <label class="flex items-center gap-2 text-sm font-medium cursor-pointer text-gray-700">
                    <input type="checkbox" id="doc-check-enabled" onchange="updateConfig()" class="w-5 h-5 accent-blue-600 cursor-pointer">
                    Enabled
                </label>
            </div>
            <div class="flex items-center">
                <label class="flex items-center gap-2 text-sm font-medium text-gray-700">
                    Interval (minutes):
                    <input type="number" id="doc-check-interval" min="1" max="1440" value="10" onchange="updateConfig()" 
                           class="min-w-24 px-2 py-1 border border-gray-300 rounded-md text-sm font-mono transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-100">
                </label>
            </div>
        </div>
        
        <div class="flex flex-col gap-3">
            <h4 class="text-gray-800 mb-2 text-lg font-semibold pb-2 border-b-2 border-gray-200">ğŸ”„ Git Analysis</h4>
            <div class="flex items-center">
                <label class="flex items-center gap-2 text-sm font-medium cursor-pointer text-gray-700">
                    <input type="checkbox" id="git-check-enabled" onchange="updateConfig()" class="w-5 h-5 accent-blue-600 cursor-pointer">
                    Enabled
                </label>
            </div>
            <div class="flex items-center">
                <label class="flex items-center gap-2 text-sm font-medium text-gray-700">
                    Interval (minutes):
                    <input type="number" id="git-check-interval" min="1" max="1440" value="5" onchange="updateConfig()" 
                           class="min-w-24 px-2 py-1 border border-gray-300 rounded-md text-sm font-mono transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-100">
                </label>
            </div>
        </div>
        
        <div class="flex flex-col gap-3">
            <h4 class="text-gray-800 mb-2 text-lg font-semibold pb-2 border-b-2 border-gray-200">ğŸ§ª Test Check</h4>
            <div class="flex items-center">
                <label class="flex items-center gap-2 text-sm font-medium cursor-pointer text-gray-700">
                    <input type="checkbox" id="test-check-enabled" onchange="updateConfig()" class="w-5 h-5 accent-blue-600 cursor-pointer">
                    Enabled
                </label>
            </div>
            <div class="flex items-center">
                <label class="flex items-center gap-2 text-sm font-medium text-gray-700">
                    Interval (minutes):
                    <input type="number" id="test-check-interval" min="1" max="1440" value="5" onchange="updateConfig()" 
                           class="min-w-24 px-2 py-1 border border-gray-300 rounded-md text-sm font-mono transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-100">
                </label>
            </div>
        </div>
        
        <div class="flex flex-col gap-3">
            <h4 class="text-gray-800 mb-2 text-lg font-semibold pb-2 border-b-2 border-gray-200">ğŸ”¢ Token Alerts</h4>
            <div class="flex items-center">
                <label class="flex items-center gap-2 text-sm font-medium cursor-pointer text-gray-700">
                    <input type="checkbox" id="token-alerts-enabled" onchange="updateConfig()" class="w-5 h-5 accent-blue-600 cursor-pointer">
                    Enabled
                </label>
            </div>
            <div class="flex items-center">
                <label class="flex items-center gap-2 text-sm font-medium text-gray-700">
                    Token Threshold:
                    <input type="number" id="token-threshold" min="1000" max="200000" value="50000" onchange="updateConfig()" 
                           class="min-w-24 px-2 py-1 border border-gray-300 rounded-md text-sm font-mono transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-100">
                </label>
            </div>
            <div class="flex items-center">
                <label class="flex items-center gap-2 text-sm font-medium text-gray-700">
                    Model:
                    <select id="token-model" onchange="updateConfig()" 
                            class="min-w-32 px-2 py-1 border border-gray-300 rounded-md text-sm transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-100">
                        <option value="gpt-4">GPT-4</option>
                        <option value="gpt-3.5-turbo">GPT-3.5-turbo</option>
                        <option value="claude-3-opus">Claude-3-opus</option>
                    </select>
                </label>
            </div>
        </div>
    </div>
</section>
{% endblock %}
